# menus
# =====
#
OnDesktop Mouse1 :HideMenus
OnDesktop Mouse2 :WorkspaceMenu
OnDesktop Mouse3 :RootMenu
OnTitlebar Mouse3 :WindowMenu
Mod4 space :RootMenu
Mod4 y :Exec xdotool mousemove 0 0 && fluxbox-remote RootMenu
Mod1 space :WindowMenu
Mod4 0 :WorkspaceMenu

# workspaces
# ==========
#
OnDesktop Mouse4 :PrevWorkspace
OnDesktop Mouse5 :NextWorkspace
Mod4 Right :NextWorkspace
Mod4 Left :PrevWorkspace
Control Mod4 Left :TakeToPrevWorkspace
Control Mod4 Right :TakeToNextWorkspace
Mod4 1 :Workspace 1
Mod4 2 :Workspace 2
Mod4 3 :Workspace 3
Mod4 4 :Workspace 4

# applications
# ============
#
Mod4 r :Exec fbrun
Mod1 F2 :Exec fbrun
Mod4 x :Exec xterm
Mod1 Mod4 x :Exec lilyterm
Mod4 a :Exec xterm -geometry 20x30+50+50 -e alsamixer
Mod1 Mod4 a :Exec pavucontrol
Mod4 j :Exec leafpad ~/jegyzet.txt
Mod4 l :Exec ~/bin/xlock.sh
Mod4 p :Exec video.sh vga
Mod4 Mod1 p :Exec video.sh hdmi
Control Shift Escape :Exec xterm -e htop & sh -c "sleep .5 && fluxbox-remote maximize"
Mod4 Print :Exec gm import -window root ~/pictures/screenshots/$(date +'%Y%m%d%H%M%S').png
Mod1 Mod4 Print :Exec gm import -window "$(xdotool getwindowfocus -f)" ~/pictures/screenshots/$(date +'%Y%m%d%H%M%S')-w.png

# app switching
# =============
#
# * alt + tab
# * alt + shift + tab
# * win + tab = inner tab next
# * win + shift + tab = inner tab prev
# * scroll on toolbar
# 
Mod1 Tab :NextWindow {groups} (workspace=[current])
Mod1 Shift Tab :PrevWindow {groups} (workspace=[current])
Mod4 Tab :NextTab
Mod4 Shift Tab :PrevTab
OnToolbar Mouse4 :PrevWindow {static groups} (iconhidden=no)
OnToolbar Mouse5 :NextWindow {static groups} (iconhidden=no)

# volume and brightness
# =====================
# use `xmodmap -pke` and/or `xev`
#
# * media keys
# * win + alt + m = mute
# * win + alt + right = vol up
# * win + alt + left = vol down
# * win + alt + up = brightness up
# * win + alt + down = brightness down
#
XF86AudioMute :Exec ponymix toggle
XF86AudioRaiseVolume :Exec ponymix increase 10
XF86AudioLowerVolume :Exec ponymix decrease 10
Mod4 Mod1 Right :Exec ponymix increase 10
Mod4 Mod1 Left :Exec ponymix decrease 10
Mod4 Mod1 m :Exec ponymix toggle
XF86MonBrightnessUp :Exec xbacklight -inc 10
XF86MonBrightnessDown :Exec xbacklight -dec 10
Mod4 Mod1 Up :Exec xbacklight -inc 10
Mod4 Mod1 Down :Exec xbacklight -dec 10


# handle windows
# ==============
#
Mod1 F4 :Close
Mod4 F4 :Kill
Mod4 Down :Minimize
Mod4 m :Minimize
Mod4 Up :Maximize
Mod4 F11 :Fullscreen
Mod4 Mod1 d :ToggleDecor
Mod4 d :ShowDesktop
#
# move/resize and focus
#
OnWindow Mod4 Mouse1 :MacroCmd {Raise} {Focus} {StartMoving}
#OnWindowBorder Move1 :StartMoving
OnWindow Mod4 Mouse3 :MacroCmd {Raise} {Focus} {StartResizing NearestCorner}
OnLeftGrip Move1 :StartResizing bottomleft
OnRightGrip Move1 :StartResizing bottomright
OnTitlebar Mouse1 :MacroCmd {Raise} {Focus} {ActivateTab}
OnTitlebar Move1  :StartMoving
Ctrl Mod1 Mod4 Right :MoveRight 10
Ctrl Mod1 Mod4 Left :MoveLeft 10
Ctrl Mod1 Mod4 Up :MoveUp 10
Ctrl Mod1 Mod4 Down :MoveDown 10
Ctrl Mod1 Mod4 m c :MoveTo 0 0 Center
Ctrl Mod1 Mod4 m Up :MoveTo 0 0 Top
Ctrl Mod1 Mod4 m Down :MoveTo 0 0 Bottom
Ctrl Mod1 Mod4 m Left :MoveTo 0 0 Left
Ctrl Mod1 Mod4 m Right :MoveTo 0 0 Right
Ctrl Mod1 Mod4 m Shift Up :MoveTo 0 0 TopRight
Ctrl Mod1 Mod4 m Shift Down :MoveTo 0 0 BottomLeft
Ctrl Mod1 Mod4 m Shift Left :MoveTo 0 0 TopLeft
Ctrl Mod1 Mod4 m Shift Right :MoveTo 0 0 BottomRight
#
# shade and lower
#
OnTitlebar Double Mouse1 :Minimize
Mod4 s :Shade
OnTitlebar Mouse4 :ShadeOn
OnTitlebar Mouse5 :ShadeOff
OnWindow Mod1 Mouse2 :Lower
OnTitlebar Mouse2 :Lower
#
# ctrl drag to combine tabs
#
OnTitlebar Control Mouse1 :StartTabbing

# fluxbox
# =======
Mod4 Shift r :Reconfigure
Control Mod1 Shift Delete :Exit
Mod4 t :MacroCmd {SetResourceValue session.screen0.toolbar.visible true} {Reconfigure}
Mod1 Mod4 t :MacroCmd {SetResourceValue session.screen0.toolbar.visible false} {Reconfigure}


# unused
# ======
#
#Mod4 Left :SendToPrevWorkspace
#Mod4 Right :SendToNextWorkspace
#Control F1 :Workspace 1
#Mod4 F1 :SendToWorkspace 1
#Control Mod4 F1 :TakeToWorkspace 1
